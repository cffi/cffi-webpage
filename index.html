<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <title>CFFI - The Common Foreign Function Interface</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" type="text/css" href="estilo.css" />
</head>

<table id="content">
  <tr>
    <!-- CONTENT -->
    <td id="main" width="70%">

      <div id="header">
        <h1 class="title">CFFI</h1>
        <div class="slogan">The Common Foreign Function Interface</div>
      </div>

      <div class="node">
        <h2 class="title"><a id="overview">Introduction</a></h2>
        <div class="content">
          <p>CFFI, the Common Foreign Function Interface, purports to
            be a portable foreign function interface for Common
            Lisp. The CFFI library is composed of a
            Lisp-implementation-specific backend in the CFFI-SYS
            package, and a portable frontend in the CFFI package.
          </p>
          <p>The CFFI-SYS backend package defines a low-level
            interface to the native FFI support in the Lisp
            implementation. It offers operators for allocating and
            dereferencing foreign memory, calling foreign functions,
            and loading shared libraries. The CFFI frontend provides a
            declarative interface for defining foreign functions,
            structures, typedefs, enumerated types. It is implemented
            in portable ANSI CL making use of the low-level operators
            exported by CFFI-SYS.
          </p>

          <p>A UFFI compatibility layer is also being developed.</p>

          <!--
          <p>Key features:</p>
          <ul>
            <li>foo</li>
            <li>bar</li>
          </ul>
          -->

        </div>

      </div>
    </td>
    
    <!-- MENU -->
    <td id="sidebar-right">
      <div class="block">
        <h2 class="title">Documentation</h2>
        <div class="content">
          <ul>
            <!--<li><a href="/?q=node/6">FAQ</a></li>-->
            <li><a href="/project/cffi/manual/index.html">CFFI User Manual</a></li>
            <li><a href="/project/cffi/spec/index.html">CFFI-SYS Specification</a></li>
            <li><a href="/project/cffi/darcs/cffi/doc/mem-vector.txt">Proposed Block Memory Interface</a></li>
            <li><a href="/project/cffi/darcs/cffi/doc/shareable-vectors.txt">Proposed Shareable Byte Vector Interface</a></li>
          </ul>
        </div>
      </div>
      
      <div class="block">
        <h2 class="title">Mailing List</h2>
        <div class="content">
          <ul>
            <li><a href="http://www.common-lisp.net/mailman/listinfo/cffi-devel">cffi-devel</a>
                (<a href="http://dir.gmane.org/gmane.lisp.cffi.devel">gmane</a>)
              <br />development mailing list
            </li>
          </ul>
        </div>
      </div>

      <div class="block">
        <h2 class="title">Source Code</h2>
        <div class="content">
          <ul>
            <li><a href="/project/cffi/darcs/cffi/">darcs tree</a></li>
            <li><a href="/project/cffi/darcs/cffi-luis/">darcs tree</a> (cffi-luis)</li>
            <li><a href="/project/cffi/tarballs/">tarballs</a></li>
          </ul>
            <!--
            <li><a href="download/osprey-1.0a6.tar.bz2" >osprey-1.0a6.tar.bz2</a></li>
            <li><a href="download/permaseed-1.0a6.tar.bz2" >permaseed-1.0a6.tar.bz2</a></li>
          </ul>
          <p><a href="/?q=node/18">Changelogs and older
          versions</a></p>
          -->
        </div>
      </div>

      <!--
      <div class="block">
        <h2 class="title">Project Information</h2>
        <div class="content">
          <p><a href="/?q=node/15">Papers and Publications</a>
            <br /> People<br />
            <a href="http://osprey.ibiblio.org/?q=node/14">Contact</a>
          </p>
        </div>
      </div>
      -->
    </td>
  </tr>
</table>

<div id="main">

<h2 class="title"><a id="status">Implementation Status</a></h2>
<div class="content">
  <p>CFFI is under heavy development, and not as mature as
    UFFI in terms of support for Lisp implementations and API
    stability. The status of CFFI support for various Lisp
    implementations is described in the following table:
  </p>
  
  <table border="1" cellpadding="2" cellspacing="0">
    <tr bgcolor="yellow">
      <td><b>Lisp Implementation</b></td>
      <td><b>CFFI Status</b></td>
      <td><b>Comments</b></td>
    </tr>
    <tr>
      <td><a href="/project/cffi/darcs/cffi/src/cffi-openmcl.lisp">OpenMCL</a></td>
      <td bgcolor="#60c060">Working</td>
      <td></td>
    </tr>
    <tr>
      <td><a href="/project/cffi/darcs/cffi/src/cffi-sbcl.lisp">SBCL</a></td>
      <td bgcolor="#60c060">Working</td>
      <td><i>callbacks x86 only, requires SBCL >= 0.9.3<br /></i></td>
    </tr>
    <tr>
      <td><a href="/project/cffi/darcs/cffi/src/cffi-cmucl.lisp">CMU CL</a></td>
      <td bgcolor="#60c060">Working</td>
      <td><i>8 tests fail on darwin/ppc</i></td>
    </tr>
    <tr>
      <td><a href="/project/cffi/darcs/cffi/src/cffi-clisp.lisp">CLISP</a></td>
      <td bgcolor="#60c060">Working</td>
      <td><i>requires clisp >=2.35</i></td>
    </tr>
    <tr>
      <td><a href="/project/cffi/darcs/cffi/src/cffi-lispworks.lisp">LispWorks</a></td>
      <td bgcolor="#60c060">Working</td>
      <td><i>missing FOREIGN-FUNCALL</i></td>
    </tr>
    <tr>
      <td><a href="/project/cffi/darcs/cffi-luis/src/cffi-allegro.lisp">Allegro CL</a> <i>(cffi-luis branch)</i></td>
      <td bgcolor="#60c060">Working</td>
      <td></td>
    </tr>
    <tr>
      <td><a href="/project/cffi/darcs/cffi-luis/src/cffi-corman.lisp">Corman CL</a> <i>(cffi-luis branch)</i></td>
      <td bgcolor="#ffff60">Partially Supported</td>
      <td><i>missing FOREIGN-FUNCALL, a few bugs left (7 out of 71 tests fail).
             note: you will need to follow
             <a href="http://www.weitz.de/corman-asdf/">these instructions</a>
             to use ASDF with Corman Lisp.</i></td>
    </tr>
    <tr>
      <td>Digitool MCL</td>
      <td bgcolor="#ff6060">Unknown</td>
      <td><i>probably similar to OpenMCL</i></td>
    </tr>
    <tr>
      <td>Scieneer CL</td>
      <td bgcolor="#ff6060">Unknown</td>
      <td><i>vendor has shown intention to contribute a CFFI-SYS backend</i></td>
    </tr>
    <tr>
      <td><a href="/project/cffi/darcs/cffi/src/cffi-ecl.lisp">ECL</a></td>
      <td bgcolor="#ffff60">Partially Supported</td>
      <td><i>a few bugs left</i></td>
    </tr>
    <tr>
      <td><a href="/project/cffi/darcs/cffi-luis/src/cffi-gcl.lisp">GCL</a> <i>(cffi-luis branch)</i></td>
      <td bgcolor="#ff6060">Broken</td>
      <td>port incomplete</td>
    </tr>
  </table>

  <div id="footer">
    <p><a href="mailto:jamesjb (at) jamesjb (dot) com">James Bielman</a> and
    <a href="mailto:loliveira (at) common-lisp (dot) net">Lu&iacute;s Oliveira</a>,
    26 September 2005</p>
  </div>
</div>

</div> <!-- id main -->

</body>
</html>
